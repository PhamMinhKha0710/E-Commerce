# H∆∞·ªõng D·∫´n Th√™m S·∫£n Ph·∫©m M·ªõi - Admin Panel

## üìã T·ªïng Quan

H·ªá th·ªëng admin cho ph√©p th√™m s·∫£n ph·∫©m m·ªõi th√¥ng qua giao di·ªán web t·∫°i trang `/dashboard/products/add`. Quy tr√¨nh bao g·ªìm ƒëi·ªÅn th√¥ng tin s·∫£n ph·∫©m, th√™m h√¨nh ·∫£nh, v√† l∆∞u v√†o h·ªá th·ªëng.

---

## üöÄ C√°c B∆∞·ªõc Th·ª±c Hi·ªán

### B∆∞·ªõc 1: Truy C·∫≠p Trang Th√™m S·∫£n Ph·∫©m

1. **ƒêƒÉng nh·∫≠p v√†o Admin Panel**
   - Truy c·∫≠p: `http://localhost:3000/dashboard` (ho·∫∑c URL admin c·ªßa b·∫°n)
   - ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n admin

2. **ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn trang th√™m s·∫£n ph·∫©m**
   - C√°ch 1: V√†o menu **S·∫£n ph·∫©m** ‚Üí Click n√∫t **"Th√™m s·∫£n ph·∫©m m·ªõi"**
   - C√°ch 2: Truy c·∫≠p tr·ª±c ti·∫øp: `http://localhost:3000/dashboard/products/add`

### B∆∞·ªõc 2: ƒêi·ªÅn Th√¥ng Tin C∆° B·∫£n

Trong ph·∫ßn **"Th√¥ng tin c∆° b·∫£n"**, ƒëi·ªÅn c√°c tr∆∞·ªùng b·∫Øt bu·ªôc:

#### ‚úÖ C√°c tr∆∞·ªùng b·∫Øt bu·ªôc:
- **T√™n s·∫£n ph·∫©m**: T√™n ƒë·∫ßy ƒë·ªß c·ªßa s·∫£n ph·∫©m
  - V√≠ d·ª•: "iPhone 15 Pro Max 256GB"
  
- **M√£ s·∫£n ph·∫©m (SKU)**: M√£ ƒë·ªãnh danh duy nh·∫•t
  - V√≠ d·ª•: "IPHONE-15PM-256GB-BLACK"
  - L∆∞u √Ω: SKU ph·∫£i l√† duy nh·∫•t trong h·ªá th·ªëng

- **M√¥ t·∫£ s·∫£n ph·∫©m**: M√¥ t·∫£ chi ti·∫øt v·ªÅ s·∫£n ph·∫©m
  - C√≥ th·ªÉ bao g·ªìm: th√¥ng s·ªë k·ªπ thu·∫≠t, t√≠nh nƒÉng, ∆∞u ƒëi·ªÉm
  - H·ªó tr·ª£ HTML formatting

### B∆∞·ªõc 3: Th√™m H√¨nh ·∫¢nh S·∫£n Ph·∫©m

Trong ph·∫ßn **"H√¨nh ·∫£nh s·∫£n ph·∫©m"**:

1. **Nh·∫≠p URL h√¨nh ·∫£nh**
   - Nh·∫≠p URL c·ªßa h√¨nh ·∫£nh v√†o √¥ input
   - V√≠ d·ª•: `https://example.com/images/product1.jpg`

2. **Th√™m h√¨nh ·∫£nh**
   - Click n√∫t **"Th√™m"** ƒë·ªÉ th√™m h√¨nh ·∫£nh v√†o danh s√°ch
   - C√≥ th·ªÉ th√™m nhi·ªÅu h√¨nh ·∫£nh (khuy·∫øn ngh·ªã: 3-5 h√¨nh)

3. **X√≥a h√¨nh ·∫£nh** (n·∫øu c·∫ßn)
   - Click n√∫t **X** ·ªü g√≥c tr√™n b√™n ph·∫£i c·ªßa h√¨nh ·∫£nh

**L∆∞u √Ω:**
- H√¨nh ·∫£nh ƒë·∫ßu ti√™n s·∫Ω l√† h√¨nh ·∫£nh ch√≠nh c·ªßa s·∫£n ph·∫©m
- H√¨nh ·∫£nh n√™n c√≥ k√≠ch th∆∞·ªõc t·ªëi thi·ªÉu 800x800px
- ƒê·ªãnh d·∫°ng h·ªó tr·ª£: JPG, PNG, WebP

### B∆∞·ªõc 4: ƒêi·ªÅn Th√¥ng Tin Gi√° & T·ªìn Kho

Trong ph·∫ßn **"Gi√° & T·ªìn kho"** (sidebar b√™n ph·∫£i):

#### ‚úÖ C√°c tr∆∞·ªùng b·∫Øt bu·ªôc:
- **Gi√° b√°n (VND)**: Gi√° b√°n c·ªßa s·∫£n ph·∫©m
  - V√≠ d·ª•: `34900000` (34.900.000 VND)
  - Ph·∫£i l·ªõn h∆°n 0

- **S·ªë l∆∞·ª£ng t·ªìn kho**: S·ªë l∆∞·ª£ng s·∫£n ph·∫©m c√≥ s·∫µn
  - V√≠ d·ª•: `50`
  - N·∫øu = 0, s·∫£n ph·∫©m s·∫Ω t·ª± ƒë·ªông c√≥ status "Out of Stock"

#### ‚ö™ Tr∆∞·ªùng t√πy ch·ªçn:
- **Gi√° khuy·∫øn m√£i (VND)**: Gi√° gi·∫£m (n·∫øu c√≥)
  - V√≠ d·ª•: `32900000` (32.900.000 VND)
  - Ph·∫£i nh·ªè h∆°n gi√° b√°n

### B∆∞·ªõc 5: Ch·ªçn Ph√¢n Lo·∫°i

Trong ph·∫ßn **"Ph√¢n lo·∫°i"**:

#### ‚úÖ C√°c tr∆∞·ªùng b·∫Øt bu·ªôc:
- **Danh m·ª•c**: Ch·ªçn danh m·ª•c s·∫£n ph·∫©m t·ª´ dropdown
  - V√≠ d·ª•: "ƒêi·ªán tho·∫°i Smartphone", "Laptop", "Tai nghe"
  - N·∫øu ch∆∞a c√≥ danh m·ª•c, c·∫ßn t·∫°o danh m·ª•c tr∆∞·ªõc

- **Th∆∞∆°ng hi·ªáu**: Ch·ªçn th∆∞∆°ng hi·ªáu t·ª´ dropdown
  - V√≠ d·ª•: "Apple", "Samsung", "Sony"
  - N·∫øu ch∆∞a c√≥ th∆∞∆°ng hi·ªáu, c·∫ßn t·∫°o th∆∞∆°ng hi·ªáu tr∆∞·ªõc

### B∆∞·ªõc 6: Th√™m Thu·ªôc T√≠nh S·∫£n Ph·∫©m (T√πy ch·ªçn)

Trong ph·∫ßn **"Thu·ªôc t√≠nh s·∫£n ph·∫©m"**:

1. **Click n√∫t "Th√™m thu·ªôc t√≠nh"**
2. **ƒêi·ªÅn th√¥ng tin thu·ªôc t√≠nh:**
   - **T√™n thu·ªôc t√≠nh**: V√≠ d·ª• "M√†u s·∫Øc", "K√≠ch th∆∞·ªõc", "Dung l∆∞·ª£ng"
   - **Gi√° tr·ªã**: V√≠ d·ª• "ƒêen", "128GB", "XL"

3. **Th√™m nhi·ªÅu thu·ªôc t√≠nh** (n·∫øu c·∫ßn)
   - Click "Th√™m thu·ªôc t√≠nh" ƒë·ªÉ th√™m thu·ªôc t√≠nh m·ªõi
   - Click n√∫t **X** ƒë·ªÉ x√≥a thu·ªôc t√≠nh

**V√≠ d·ª• thu·ªôc t√≠nh:**
- M√†u s·∫Øc: ƒêen
- Dung l∆∞·ª£ng: 256GB
- K√≠ch th∆∞·ªõc m√†n h√¨nh: 6.7 inch

### B∆∞·ªõc 7: T√πy Ch·ªçn Th√™m

Trong ph·∫ßn **"T√πy ch·ªçn th√™m"**:

- **S·∫£n ph·∫©m n·ªïi b·∫≠t**: B·∫≠t/t·∫Øt switch ƒë·ªÉ ƒë√°nh d·∫•u s·∫£n ph·∫©m n·ªïi b·∫≠t
  - S·∫£n ph·∫©m n·ªïi b·∫≠t s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü trang ch·ªß v√† c√°c v·ªã tr√≠ ƒë·∫∑c bi·ªát

### B∆∞·ªõc 8: L∆∞u S·∫£n Ph·∫©m

1. **Ki·ªÉm tra l·∫°i th√¥ng tin**
   - ƒê·∫£m b·∫£o t·∫•t c·∫£ c√°c tr∆∞·ªùng b·∫Øt bu·ªôc ƒë√£ ƒë∆∞·ª£c ƒëi·ªÅn
   - Ki·ªÉm tra gi√°, t·ªìn kho, danh m·ª•c, th∆∞∆°ng hi·ªáu

2. **Click n√∫t "L∆∞u s·∫£n ph·∫©m"**
   - N√∫t ·ªü g√≥c tr√™n b√™n ph·∫£i c·ªßa trang
   - Ho·∫∑c scroll xu·ªëng v√† click n√∫t "L∆∞u s·∫£n ph·∫©m"

3. **Ch·ªù x·ª≠ l√Ω**
   - H·ªá th·ªëng s·∫Ω hi·ªÉn th·ªã loading "ƒêang l∆∞u..."
   - Sau khi th√†nh c√¥ng, s·∫Ω t·ª± ƒë·ªông chuy·ªÉn ƒë·∫øn trang chi ti·∫øt s·∫£n ph·∫©m

---

## üìù V√≠ D·ª• ƒêi·ªÅn Form

### S·∫£n ph·∫©m: iPhone 15 Pro Max 256GB

**Th√¥ng tin c∆° b·∫£n:**
- T√™n s·∫£n ph·∫©m: `iPhone 15 Pro Max 256GB`
- SKU: `IPHONE-15PM-256GB`
- M√¥ t·∫£: `iPhone 15 Pro Max v·ªõi chip A17 Pro, camera 48MP, pin l√¢u d√†i...`

**H√¨nh ·∫£nh:**
- URL 1: `https://example.com/iphone-15-pro-max-1.jpg`
- URL 2: `https://example.com/iphone-15-pro-max-2.jpg`
- URL 3: `https://example.com/iphone-15-pro-max-3.jpg`

**Gi√° & T·ªìn kho:**
- Gi√° b√°n: `34900000` (34.900.000 VND)
- Gi√° khuy·∫øn m√£i: `32900000` (32.900.000 VND)
- T·ªìn kho: `25`

**Ph√¢n lo·∫°i:**
- Danh m·ª•c: `ƒêi·ªán tho·∫°i Smartphone`
- Th∆∞∆°ng hi·ªáu: `Apple`

**Thu·ªôc t√≠nh:**
- M√†u s·∫Øc: `Titanium Xanh`
- Dung l∆∞·ª£ng: `256GB`
- K√≠ch th∆∞·ªõc m√†n h√¨nh: `6.7 inch`

**T√πy ch·ªçn:**
- S·∫£n ph·∫©m n·ªïi b·∫≠t: ‚úÖ B·∫≠t

---

## ‚ö†Ô∏è L∆∞u √ù Quan Tr·ªçng

### Validation (Ki·ªÉm tra d·ªØ li·ªáu)

H·ªá th·ªëng s·∫Ω ki·ªÉm tra c√°c ƒëi·ªÅu ki·ªán sau tr∆∞·ªõc khi l∆∞u:

1. **T√™n s·∫£n ph·∫©m**: Kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng
2. **SKU**: Kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng v√† ph·∫£i l√† duy nh·∫•t
3. **M√¥ t·∫£**: Kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng
4. **Gi√° b√°n**: Ph·∫£i > 0
5. **Danh m·ª•c**: Ph·∫£i ch·ªçn m·ªôt danh m·ª•c h·ª£p l·ªá (categoryId > 0)
6. **Th∆∞∆°ng hi·ªáu**: Ph·∫£i ch·ªçn m·ªôt th∆∞∆°ng hi·ªáu h·ª£p l·ªá (brandId > 0)

### T·ª± ƒê·ªông X·ª≠ L√Ω

- **Status**: T·ª± ƒë·ªông set th√†nh "In Stock" n·∫øu stock > 0, "Out of Stock" n·∫øu stock = 0
- **Slug**: T·ª± ƒë·ªông t·∫°o t·ª´ t√™n s·∫£n ph·∫©m (n·∫øu kh√¥ng nh·∫≠p)
- **Created At / Updated At**: T·ª± ƒë·ªông set th·ªùi gian hi·ªán t·∫°i

### Sau Khi T·∫°o S·∫£n Ph·∫©m

1. **T·ª± ƒë·ªông chuy·ªÉn ƒë·∫øn trang chi ti·∫øt**
   - URL: `/dashboard/products/{productId}`
   - C√≥ th·ªÉ xem, ch·ªânh s·ª≠a, ho·∫∑c th√™m bi·∫øn th·ªÉ (variants)

2. **Th√™m bi·∫øn th·ªÉ s·∫£n ph·∫©m** (n·∫øu c·∫ßn)
   - V√†o trang chi ti·∫øt s·∫£n ph·∫©m
   - Click "Th√™m bi·∫øn th·ªÉ"
   - ƒêi·ªÅn th√¥ng tin bi·∫øn th·ªÉ (m√†u s·∫Øc, k√≠ch th∆∞·ªõc kh√°c, v.v.)

3. **ƒê·ªìng b·ªô v·ªõi Elasticsearch**
   - S·∫£n ph·∫©m s·∫Ω t·ª± ƒë·ªông ƒë∆∞·ª£c ƒë·ªìng b·ªô v√†o Elasticsearch
   - C√≥ th·ªÉ t√¨m ki·∫øm ngay sau khi t·∫°o

---

## üîß X·ª≠ L√Ω L·ªói

### L·ªói Th∆∞·ªùng G·∫∑p

#### 1. "Th√¥ng tin kh√¥ng ƒë·∫ßy ƒë·ªß"
**Nguy√™n nh√¢n:** Thi·∫øu m·ªôt trong c√°c tr∆∞·ªùng b·∫Øt bu·ªôc
**Gi·∫£i ph√°p:** Ki·ªÉm tra l·∫°i v√† ƒëi·ªÅn ƒë·∫ßy ƒë·ªß:
- T√™n s·∫£n ph·∫©m
- SKU
- M√¥ t·∫£
- Gi√° b√°n (> 0)
- Danh m·ª•c
- Th∆∞∆°ng hi·ªáu

#### 2. "Kh√¥ng th·ªÉ t·∫£i danh m·ª•c v√† th∆∞∆°ng hi·ªáu"
**Nguy√™n nh√¢n:** API kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c ho·∫∑c ch∆∞a c√≥ d·ªØ li·ªáu
**Gi·∫£i ph√°p:**
- Ki·ªÉm tra backend API ƒëang ch·∫°y
- T·∫°o danh m·ª•c v√† th∆∞∆°ng hi·ªáu tr∆∞·ªõc khi th√™m s·∫£n ph·∫©m

#### 3. "Error creating product: 400"
**Nguy√™n nh√¢n:** D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá (SKU tr√πng, categoryId/brandId kh√¥ng t·ªìn t·∫°i)
**Gi·∫£i ph√°p:**
- Ki·ªÉm tra SKU ch∆∞a ƒë∆∞·ª£c s·ª≠ d·ª•ng
- Ki·ªÉm tra categoryId v√† brandId h·ª£p l·ªá
- Xem console log ƒë·ªÉ bi·∫øt chi ti·∫øt l·ªói

#### 4. "Error creating product: 401"
**Nguy√™n nh√¢n:** Ch∆∞a ƒëƒÉng nh·∫≠p ho·∫∑c token h·∫øt h·∫°n
**Gi·∫£i ph√°p:**
- ƒêƒÉng nh·∫≠p l·∫°i
- Ki·ªÉm tra token authentication

---

## üìö API Endpoint

N·∫øu mu·ªën th√™m s·∫£n ph·∫©m qua API tr·ª±c ti·∫øp:

```http
POST http://localhost:5130/api/admin/products
Content-Type: application/json
Authorization: Bearer {token}

{
  "name": "iPhone 15 Pro Max 256GB",
  "description": "M√¥ t·∫£ s·∫£n ph·∫©m...",
  "price": 34900000,
  "salePrice": 32900000,
  "sku": "IPHONE-15PM-256GB",
  "stock": 25,
  "status": "In Stock",
  "featured": true,
  "categoryId": 5,
  "brandId": 1,
  "images": [
    "https://example.com/image1.jpg",
    "https://example.com/image2.jpg"
  ],
  "attributes": [
    {
      "name": "M√†u s·∫Øc",
      "value": "Titanium Xanh"
    },
    {
      "name": "Dung l∆∞·ª£ng",
      "value": "256GB"
    }
  ]
}
```

---

## üéØ Best Practices

1. **SKU Naming Convention**
   - S·ª≠ d·ª•ng format nh·∫•t qu√°n: `BRAND-MODEL-VARIANT`
   - V√≠ d·ª•: `APPLE-IPHONE15PM-256GB-BLUE`

2. **H√¨nh ·∫¢nh**
   - S·ª≠ d·ª•ng h√¨nh ·∫£nh ch·∫•t l∆∞·ª£ng cao (t·ªëi thi·ªÉu 800x800px)
   - T·ªëi ∆∞u h√≥a k√≠ch th∆∞·ªõc file (kh√¥ng qu√° 2MB m·ªói ·∫£nh)
   - H√¨nh ·∫£nh ƒë·∫ßu ti√™n n√™n l√† g√≥c nh√¨n t·ªët nh·∫•t c·ªßa s·∫£n ph·∫©m

3. **M√¥ T·∫£ S·∫£n Ph·∫©m**
   - Vi·∫øt m√¥ t·∫£ chi ti·∫øt, d·ªÖ hi·ªÉu
   - Bao g·ªìm th√¥ng s·ªë k·ªπ thu·∫≠t quan tr·ªçng
   - S·ª≠ d·ª•ng bullet points cho d·ªÖ ƒë·ªçc

4. **Thu·ªôc T√≠nh**
   - S·ª≠ d·ª•ng thu·ªôc t√≠nh nh·∫•t qu√°n (v√≠ d·ª•: lu√¥n d√πng "M√†u s·∫Øc" thay v√¨ "Color" ho·∫∑c "M√†u")
   - Gi√° tr·ªã thu·ªôc t√≠nh n√™n chu·∫©n h√≥a (v√≠ d·ª•: "256GB" thay v√¨ "256 GB" ho·∫∑c "256gb")

5. **Gi√° C·∫£**
   - ƒê·∫£m b·∫£o gi√° khuy·∫øn m√£i < gi√° b√°n
   - C·∫≠p nh·∫≠t gi√° th∆∞·ªùng xuy√™n

---

## üìû H·ªó Tr·ª£

N·∫øu g·∫∑p v·∫•n ƒë·ªÅ khi th√™m s·∫£n ph·∫©m:

1. Ki·ªÉm tra console log trong browser (F12)
2. Ki·ªÉm tra backend logs
3. Xem API response trong Network tab
4. Li√™n h·ªá team ph√°t tri·ªÉn v·ªõi th√¥ng tin l·ªói chi ti·∫øt

---

**Ch√∫c b·∫°n th√™m s·∫£n ph·∫©m th√†nh c√¥ng! üéâ**

